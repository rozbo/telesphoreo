Only in mobileterminal-316s+iPhone/Artwork: .svn
Only in mobileterminal-316s+iPhone: dstools
diff -ru mobileterminal-316s/Makefile.build mobileterminal-316s+iPhone/Makefile.build
--- mobileterminal-316s/Makefile.build	2008-08-23 05:14:22.000000000 +0000
+++ mobileterminal-316s+iPhone/Makefile.build	2008-08-27 00:30:38.000000000 +0000
@@ -2,18 +2,10 @@
 
 CFLAGS=-Wall -O7 -std=gnu99
 
-ifeq ($(PKG_ARCH),iphoneos-arm)
-QUARTZ=QuartzCore -framework ImageIO
-i20=-I/apl/i20
-else
-QUARTZ=LayerKit
-i20=
-endif
-
 LDFLAGS=-lobjc -framework CoreFoundation -framework Foundation \
-        -framework UIKit -framework $(QUARTZ) -framework CoreGraphics \
-        -framework GraphicsServices -lcurses  -lobjc \
-	-F${PKG_ROOT}/System/Library/PrivateFrameworks
+        -framework UIKit -framework QuartzCore -framework ImageIO \
+	-framework CoreGraphics -framework GraphicsServices \
+	-lcurses -lobjc -F${PKG_ROOT}/System/Library/PrivateFrameworks
 
 all:	svnversion Terminal
 
@@ -33,10 +25,10 @@
 					Sources/UI/GestureView.o \
 					Sources/UI/Menu.o \
           Sources/UI/PieView.o \
-					Sources/Preferences/ColorWidgets.m \
-					Sources/Preferences/Preferences.m \
-					Sources/Preferences/PreferencesGroup.m \
-					Sources/Preferences/PreferencesDataSource.m \
+					Sources/Preferences/ColorWidgets.o \
+					Sources/Preferences/Preferences.o \
+					Sources/Preferences/PreferencesGroup.o \
+					Sources/Preferences/PreferencesDataSource.o \
 					Sources/Misc/Constants.o \
           Sources/Misc/Tools.o \
 					Sources/Misc/Log.o
Only in mobileterminal-316s+iPhone/Resources: .svn
diff -ru mobileterminal-316s/Sources/main.m mobileterminal-316s+iPhone/Sources/main.m
--- mobileterminal-316s/Sources/main.m	2008-08-23 05:14:22.000000000 +0000
+++ mobileterminal-316s+iPhone/Sources/main.m	2008-08-27 00:22:40.000000000 +0000
@@ -25,7 +25,7 @@
     }
 
     UIApplicationUseLegacyEvents(1);
-    int ret = UIApplicationMain(argc, argv, [MobileTerminal class]);
+    int ret = UIApplicationMain(argc, argv, @"MobileTerminal", @"MobileTerminal");
 
     [pool release];
     return ret;
Only in mobileterminal-316s+iPhone/Sources: main.o
diff -ru mobileterminal-316s/Sources/Misc/Color.h mobileterminal-316s+iPhone/Sources/Misc/Color.h
--- mobileterminal-316s/Sources/Misc/Color.h	2008-08-23 00:08:34.000000000 +0000
+++ mobileterminal-316s+iPhone/Sources/Misc/Color.h	2008-08-27 00:29:12.000000000 +0000
@@ -3,6 +3,7 @@
 //  Terminal
 
 #import <UIKit/UIColor.h>
+#import <Foundation/NSArray.h>
 
 UIColor *colorWithRGBA(float red, float green, float blue, float alpha);
 
Only in mobileterminal-316s+iPhone/Sources/Misc: ColorMap.o
Only in mobileterminal-316s+iPhone/Sources/Misc: Color.o
Only in mobileterminal-316s+iPhone/Sources/Misc: Constants.o
Only in mobileterminal-316s+iPhone/Sources/Misc: Log.o
Only in mobileterminal-316s+iPhone/Sources/Misc: Settings.o
Only in mobileterminal-316s+iPhone/Sources/Misc: .svn
Only in mobileterminal-316s+iPhone/Sources/Misc: Tools.o
Only in mobileterminal-316s+iPhone/Sources: MobileTerminal.o
diff -ru mobileterminal-316s/Sources/Preferences/ColorWidgets.m mobileterminal-316s+iPhone/Sources/Preferences/ColorWidgets.m
--- mobileterminal-316s/Sources/Preferences/ColorWidgets.m	2008-08-26 11:46:29.000000000 +0000
+++ mobileterminal-316s+iPhone/Sources/Preferences/ColorWidgets.m	2008-08-27 00:35:39.000000000 +0000
@@ -15,7 +15,7 @@
 
 - (void)drawRect:(struct CGRect)rect
 {
-    CGContextRef context = UICurrentContext();
+    CGContextRef context = UIGraphicsGetCurrentContext();
     CGContextSetFillColorWithColor(context, [[self color] CGColor]);
     CGContextSetStrokeColorWithColor(context, [colorWithRGBA(0.5,0.5,0.5,1) CGColor]);
 
@@ -60,7 +60,7 @@
 
 - (void)drawRect:(CGRect)rect
 {
-    CGContextRef context = UICurrentContext();
+    CGContextRef context = UIGraphicsGetCurrentContext();
     CGContextSetFillColorWithColor(context, [color CGColor]);
     CGContextSetStrokeColorWithColor(context, [colorWithRGBA(0.0,0.0,0.0,0.8) CGColor]);
 
Only in mobileterminal-316s+iPhone/Sources/Preferences: ColorWidgets.o
Only in mobileterminal-316s+iPhone/Sources/Preferences: PreferencesDataSource.o
Only in mobileterminal-316s+iPhone/Sources/Preferences: PreferencesGroup.o
diff -ru mobileterminal-316s/Sources/Preferences/Preferences.h mobileterminal-316s+iPhone/Sources/Preferences/Preferences.h
--- mobileterminal-316s/Sources/Preferences/Preferences.h	2008-08-26 11:46:29.000000000 +0000
+++ mobileterminal-316s+iPhone/Sources/Preferences/Preferences.h	2008-08-27 00:31:39.000000000 +0000
@@ -2,7 +2,7 @@
 //  Preferences.h
 //  Terminal
 
-#import <UIKit/UINavigationController.h>
+#import <UIKit/UIKit.h>
 
 @class MobileTerminal;
 
diff -ru mobileterminal-316s/Sources/Preferences/Preferences.m mobileterminal-316s+iPhone/Sources/Preferences/Preferences.m
--- mobileterminal-316s/Sources/Preferences/Preferences.m	2008-08-26 11:46:29.000000000 +0000
+++ mobileterminal-316s+iPhone/Sources/Preferences/Preferences.m	2008-08-27 00:27:31.000000000 +0000
@@ -74,7 +74,7 @@
 - (void)drawBackgroundInRect:(struct CGRect)fp8 withFade:(float)fp24
 {
     [super drawBackgroundInRect: fp8 withFade: fp24];
-    CGContextRef context = UICurrentContext();
+    CGContextRef context = UIGraphicsGetCurrentContext();
     CGContextSaveGState(context);
     CGContextAddPath(context, [_fillPath _pathRef]);
     CGContextClip(context);
@@ -355,7 +355,7 @@
 - (void)drawBackgroundInRect:(struct CGRect)fp8 withFade:(float)fp24
 {
     [super drawBackgroundInRect: fp8 withFade: fp24];
-    CGContextRef context = UICurrentContext();
+    CGContextRef context = UIGraphicsGetCurrentContext();
     CGContextSaveGState(context);
     CGContextAddPath(context, [_fillPath _pathRef]);
     CGContextClip(context);
Only in mobileterminal-316s+iPhone/Sources/Preferences: Preferences.o
Only in mobileterminal-316s+iPhone/Sources/Preferences: .svn
Only in mobileterminal-316s+iPhone/Sources: .svn
Only in mobileterminal-316s+iPhone/Sources/Terminal: SubProcess.o
Only in mobileterminal-316s+iPhone/Sources/Terminal: .svn
Only in mobileterminal-316s+iPhone/Sources/Terminal: VT100Screen.o
Only in mobileterminal-316s+iPhone/Sources/Terminal: VT100Terminal.o
diff -ru mobileterminal-316s/Sources/UI/GestureView.m mobileterminal-316s+iPhone/Sources/UI/GestureView.m
--- mobileterminal-316s/Sources/UI/GestureView.m	2008-08-23 05:14:22.000000000 +0000
+++ mobileterminal-316s+iPhone/Sources/UI/GestureView.m	2008-08-27 00:27:08.000000000 +0000
@@ -294,7 +294,7 @@
 {
     CGRect rect = [self bounds];
     rect.size.height -= 2;
-    CGContextRef context = UICurrentContext();
+    CGContextRef context = UIGraphicsGetCurrentContext();
     CGColorRef c = [[[Settings sharedInstance] gestureFrameColor] CGColor];
     const float pattern[2] = {1,4};
     CGContextSetLineDash(context, 0, pattern, 2);
Only in mobileterminal-316s+iPhone/Sources/UI: GestureView.o
diff -ru mobileterminal-316s/Sources/UI/Keyboard.h mobileterminal-316s+iPhone/Sources/UI/Keyboard.h
--- mobileterminal-316s/Sources/UI/Keyboard.h	2008-08-23 04:37:49.000000000 +0000
+++ mobileterminal-316s+iPhone/Sources/UI/Keyboard.h	2008-08-27 00:25:55.000000000 +0000
@@ -2,6 +2,7 @@
 
 #import <UIKit/UIKit.h>
 #import <UIKit/UITextView.h>
+#import <Foundation/NSString.h>
 
 @protocol KeyboardInputProtocol
 
diff -ru mobileterminal-316s/Sources/UI/Keyboard.m mobileterminal-316s+iPhone/Sources/UI/Keyboard.m
--- mobileterminal-316s/Sources/UI/Keyboard.m	2008-08-24 13:23:01.000000000 +0000
+++ mobileterminal-316s+iPhone/Sources/UI/Keyboard.m	2008-08-27 00:26:13.000000000 +0000
@@ -4,6 +4,7 @@
 
 #include <objc/runtime.h>
 #import <UIKit/UIDefaultKeyboardInput.h>
+#import <Foundation/NSException.h>
 
 @interface TextInputHandler : UIDefaultKeyboardInput
 {
Only in mobileterminal-316s+iPhone/Sources/UI: Keyboard.o
diff -ru mobileterminal-316s/Sources/UI/Menu.m mobileterminal-316s+iPhone/Sources/UI/Menu.m
--- mobileterminal-316s/Sources/UI/Menu.m	2008-08-23 05:14:22.000000000 +0000
+++ mobileterminal-316s+iPhone/Sources/UI/Menu.m	2008-08-27 00:27:31.000000000 +0000
@@ -517,7 +517,7 @@
 
 - (void)drawRect:(struct CGRect)rect
 {
-    CGContextRef context = UICurrentContext();
+    CGContextRef context = UIGraphicsGetCurrentContext();
     float w = rect.size.width;
     float h = rect.size.height;
     CGContextBeginPath (context);
Only in mobileterminal-316s+iPhone/Sources/UI: Menu.o
diff -ru mobileterminal-316s/Sources/UI/PieView.m mobileterminal-316s+iPhone/Sources/UI/PieView.m
--- mobileterminal-316s/Sources/UI/PieView.m	2008-08-23 05:14:22.000000000 +0000
+++ mobileterminal-316s+iPhone/Sources/UI/PieView.m	2008-08-27 00:27:31.000000000 +0000
@@ -62,7 +62,7 @@
 
 - (void)drawTitleAtPoint:(CGPoint)point width:(float)width
 {
-    CGContextRef context = UICurrentContext();
+    CGContextRef context = UIGraphicsGetCurrentContext();
     CGContextSaveGState(context);
 
     float height = 14.0f;
Only in mobileterminal-316s+iPhone/Sources/UI: PieView.o
diff -ru mobileterminal-316s/Sources/UI/PTYTextView.h mobileterminal-316s+iPhone/Sources/UI/PTYTextView.h
--- mobileterminal-316s/Sources/UI/PTYTextView.h	2008-08-23 04:37:49.000000000 +0000
+++ mobileterminal-316s+iPhone/Sources/UI/PTYTextView.h	2008-08-27 00:24:11.000000000 +0000
@@ -6,6 +6,8 @@
 #import <UIKit/UIKit.h>
 #import <UIKit/UITiledView.h>
 #import <UIKit/UITile.h>
+#import <CoreGraphics/CoreGraphics.h>
+#import <Foundation/NSString.h>
 
 #include <sys/time.h>
 
diff -ru mobileterminal-316s/Sources/UI/PTYTextView.m mobileterminal-316s+iPhone/Sources/UI/PTYTextView.m
--- mobileterminal-316s/Sources/UI/PTYTextView.m	2008-08-23 04:37:49.000000000 +0000
+++ mobileterminal-316s+iPhone/Sources/UI/PTYTextView.m	2008-08-27 00:27:31.000000000 +0000
@@ -292,7 +292,7 @@
 {
     //if (DEBUGLOG) log(@"row %d", row);
 
-    CGContextRef context = UICurrentContext();
+    CGContextRef context = UIGraphicsGetCurrentContext();
 
     [dataSource acquireLock];
 
Only in mobileterminal-316s+iPhone/Sources/UI: PTYTextView.o
Only in mobileterminal-316s+iPhone/Sources/UI: .svn
Only in mobileterminal-316s+iPhone: .svn
Only in mobileterminal-316s+iPhone: svnversion.h
Only in mobileterminal-316s+iPhone: Terminal
Only in mobileterminal-316s+iPhone/Terminal.xcodeproj: .svn
